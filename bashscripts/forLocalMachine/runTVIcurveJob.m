function runTVIcurveJob()

    close all;
    
    % Set 
    nTrainingSamples = 256;
    
    lowContrast =  3e-4;
    highContrast = 0.3;
    nContrastsPerPedestalLuminance = 10;
    

    lowPedestalLuminance = 3.3;
    highPedestalLuminance = 450;
    nPedestalLuminanceLevels = 12;
        
    fieldOfViewDegs = 1.5; % 2.0;
    testDiameterDegs = [3.5 10 50]/60;  % Geisler 1979 paper
    testDiameterDegs = testDiameterDegs(3);
    
    stimulusDurationSecs = 30/1000;
    stimulusTemporalEnvelope = 'square';   % choose between 'square', and 'Gaussian'
    
    coneMosaicFOVDegs = fieldOfViewDegs*0.95;
    osNoise = 'random';
    
    computeMosaic = ~true;
    computeResponses = true;
    ramPercentageEmployed = 0.5;
    pedestalLuminanceListIndicesUsed = nPedestalLuminanceLevels/2 + (1:nPedestalLuminanceLevels/2);
    
    visualizeResponses = ~true;
    visualizeOuterSegmentFilters = ~true;
    findPerformance = ~true;
    visualizePerformance = true;
    visualizeSpatialScheme = true;
    
    if (computeResponses) || (visualizeResponses) || (visualizeOuterSegmentFilters)
        c_TVIcurve(...
            'pupilDiamMm', 3.0, ...
            'lowContrast', lowContrast, ...
            'highContrast', highContrast, ...
            'nContrastsPerPedestalLuminance', nContrastsPerPedestalLuminance, ...
            'lowPedestalLuminance', lowPedestalLuminance, ...
            'highPedestalLuminance', highPedestalLuminance, ...
            'nPedestalLuminanceLevels', nPedestalLuminanceLevels, ...
            'pedestalLuminanceListIndicesUsed', pedestalLuminanceListIndicesUsed, ...
            'fieldOfViewDegs', fieldOfViewDegs, ...
            'testDiameterDegs', testDiameterDegs, ...
            'stimulusTemporalEnvelope', stimulusTemporalEnvelope, ...
            'stimulusDurationSecs', stimulusDurationSecs, ...
            'computeMosaic',computeMosaic, ...
            'coneMosaicFOVDegs', coneMosaicFOVDegs, ...
            'osNoise', osNoise, ...
            'computeResponses', computeResponses, ...
            'ramPercentageEmployed', ramPercentageEmployed, ...
            'nTrainingSamples', nTrainingSamples, ...
            'visualizeSpatialScheme', visualizeSpatialScheme, ...
            'visualizeResponses', visualizeResponses, ...
            'visualizeOuterSegmentFilters', visualizeOuterSegmentFilters, ...
            'findPerformance', false, ...
            'visualizePerformance', false ...
            );
    end
    
    if (findPerformance) || (visualizePerformance) || (visualizeSpatialScheme)
        c_TVIcurve( ...
            'pupilDiamMm', 3.0, ...
            'lowContrast', lowContrast, ...
            'highContrast', highContrast, ...
            'nContrastsPerPedestalLuminance', nContrastsPerPedestalLuminance, ...
            'lowPedestalLuminance', lowPedestalLuminance, ...
            'highPedestalLuminance', highPedestalLuminance, ...
            'nPedestalLuminanceLevels', nPedestalLuminanceLevels, ...
            'pedestalLuminanceListIndicesUsed', pedestalLuminanceListIndicesUsed, ...
            'fieldOfViewDegs', fieldOfViewDegs, ...
            'testDiameterDegs', testDiameterDegs, ...
            'stimulusTemporalEnvelope', stimulusTemporalEnvelope, ...
            'stimulusDurationSecs', stimulusDurationSecs, ...
            'coneMosaicFOVDegs', coneMosaicFOVDegs, ...
            'osNoise', osNoise, ...
            'nTrainingSamples', nTrainingSamples, ...
            'computeResponses', false, ...
            'visualizeSpatialScheme', visualizeSpatialScheme, ...
            'visualizeTransformedSignals', true, ...
            'findPerformance', findPerformance, ...
            'visualizePerformance', visualizePerformance, ...
            'performanceSignal', 'photocurrents', ... % 'isomerizations', ... % 'photocurrents', ...
            'performanceClassifier', 'svmGaussianRF', ... % 'mlpt', 'svmGaussianRF', ...
            'visualizeResponses', false);
    end
    
end


