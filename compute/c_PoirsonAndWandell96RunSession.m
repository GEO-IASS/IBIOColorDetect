function c_PoirsonAndWandell96RunSession()

    % Parameters varied
    nTrainingSamples = 512;
    spatialFrequency = 10;
    meanLuminance = 200;
        
    % Actions to perform
    computeResponses = false;
    visualizeResponses = true;
    findPerformances = false;
           
    % Go!
    if (computeResponses)
        computeTheResponses(spatialFrequency, meanLuminance, nTrainingSamples);
    end
    
    if (visualizeResponses)
        c_PoirsonAndWandell96Replicate(...
                'spatialFrequency', spatialFrequency, 'meanLuminance', meanLuminance, ...
                'nTrainingSamples', nTrainingSamples, 'emPathType', 'random', ...
                'computeResponses', false, 'visualizeResponses', true, ...
                'displayTrialBlockPartitionDiagnostics', false,  ...
                'findPerformance', false);
    end
    
    if (findPerformances)
        findThePerformances(spatialFrequency, meanLuminance, nTrainingSamples)
    end
end

function computeTheResponses(spatialFrequency, meanLuminance, nTrainingSamples)   
    c_PoirsonAndWandell96Replicate(...
        'spatialFrequency', spatialFrequency, ...
        'meanLuminance', meanLuminance, ...
        'nTrainingSamples', nTrainingSamples, ...
        'computeResponses', true, ...
        'emPathType', 'random', ...
        'visualizeResponses', false, ...
        'findPerformance', false);

    c_PoirsonAndWandell96Replicate(...
        'spatialFrequency', spatialFrequency, ...
        'meanLuminance', meanLuminance, ...
        'nTrainingSamples', nTrainingSamples, ...
        'computeResponses', true, ...
        'emPathType', 'frozen', ...
        'visualizeResponses', false, ...
        'findPerformance', false);

    c_PoirsonAndWandell96Replicate(...
        'spatialFrequency', spatialFrequency, ...
        'meanLuminance', meanLuminance, ...
        'nTrainingSamples', nTrainingSamples, ...
        'computeResponses', true, ...
        'emPathType', 'none', ...
        'visualizeResponses', false, ...
        'findPerformance', false);
end

 function findThePerformances(spatialFrequency, meanLuminance, nTrainingSamples)  
    for tableColumn = 3:3  % 1:4
        switch tableColumn
            case 1 
                % First column
                emPathTypes = {'none', 'frozen', 'random'};
                classifier = 'mlpt';
                performanceSignal = 'isomerizations';
            case 2
                % Second column
                emPathTypes = {'none', 'frozen', 'random'};
                classifier = 'svm';
                performanceSignal = 'isomerizations';
            case 3
                % Third column
                emPathTypes = {'frozen', 'random'};
                classifier = 'svm';
                performanceSignal = 'photocurrents';
            case 4
                % Fourth column
                emPathTypes = {'frozen', 'random'};
                classifier = 'svmV1FilterBank';
                performanceSignal = 'photocurrents';
            otherwise
                error('No params for table column: %d', tableColumn);
        end % switch

        for emPathTypeIndex = 1:numel(emPathTypes)
            emPathType = emPathTypes{emPathTypeIndex};
            fprintf(2, 'Finding performance for ''%s'' EMpaths using an %s classifier on the %s signals.\n', emPathType, classifier, performanceSignal);
            c_PoirsonAndWandell96Replicate(...
                'spatialFrequency', spatialFrequency, ...
                'meanLuminance', meanLuminance, ...
                'nTrainingSamples', nTrainingSamples, ...
                'computeResponses', false, ...
                'emPathType', emPathType, ...
                'visualizeResponses', false, ...
                'findPerformance', true, ...
                'performanceSignal', performanceSignal, ...
                'performanceClassifier', classifier ...
                );
        end %  for emPathTypeIndex
    end % tableColumn
 end
